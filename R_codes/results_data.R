
setwd('/Volumes/MacintoshHD2/Users/haroonr/Dropbox/Writings/UoS/plots/')
# Notes:ANE noisy experiments,for homes 18 and 1 appliance order of 5 and 6 is swaped. 

 CO <- c(3.39,0.73,2.57,4.57,0.68,2.23)  
 FHMM<- c(3.72,0.55,0.61,4.79,0.58,2.30) 
 LBM <- c(1.74,0.40,0.52,2.63,0.93,1.02)
 SSHMM <- c(1.09,0.36,0.68,1.17,0.69,1.81) 
 GSP <- c(4.08,1.32,3.67,2.54,0.80,3.08)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('Noisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(10,6)
 df_10_ane_noisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM,SSHMM,GSP)
 #plot_ane(df_10_ane_noisy,'df_10_ane_noisy.pdf')

 CO <- c(5.96,2.81,2.59,1.01,1.34,5.20)  
 FHMM<- c(4.62,1.98,2.18,0.71,1.72,3.44) 
 LBM <- c(5.35,5.94,22.02,0.81,0.84,7.16)
 SSHMM <- c(1,0.74,1,0.50,0.52,1.03) 
 GSP <- c(15.5,4.48,19.50,1.67,0.77,10.44)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('Noisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(20,6)
 df_20_ane_noisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM,SSHMM,GSP)
 #plot_ane(df_20_ane_noisy,'df_20_ane_noisy.pdf')
 
 CO <- c(4.68,0.69,2.23,3.15,0.99,5.57)  
 FHMM<- c(4.72,0.26,2.31,3.09,0.99,3.44)
 LBM <- c(2.46,0.19,1,1.29,0.96,3.85)
 SSHMM <- c(1.01,0.21,1.04,1.32,0.95,2.05) 
 GSP <- c(6.51,0.92,2.48,3.45,1.32,3.91)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('Noisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(16,6)
 df_16_ane_noisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM,SSHMM,GSP)
 #plot_ane(df_16_ane_noisy,'df_16_ane_noisy.pdf')
 # I switched appliance order for home 18 and 1 as noted on notebook table
 CO <- c(5.75,0.90,1.24,1.53,1.26,2.15)  
 FHMM<- c(5.75,0.76,0.83,1.82,0.69,2.07) 
 LBM <- c(13.74,0.50,0.84,0.59,0.85,1.40)
 SSHMM <- c(1.04,0.59,0.64,0.46,0.62,1.32) 
 GSP <- c(8.91,3.73,1.12,1.60,1.69,7.04)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('Noisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(18,6)
 df_18_ane_noisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM,SSHMM,GSP)
 #plot_ane(df_18_ane_noisy,'df_18_ane_noisy.pdf')
 
 CO <- c(10.79,7.35,1.86,4.32,0.96,2.02)  
 FHMM<- c(14.04,7.65,4.40,1.82,1.01,1.40) 
 LBM <- c(7.10,3.98,3.90,1.33,2.19,1.11)
 SSHMM <- c(1.01,1,1.36,1.17,0.59,1) 
 GSP <- c(19.43,9.16,3.66,2.74,1.39,1.33)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('Noisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(1,6)
 df_1_ane_noisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM,SSHMM,GSP)
 #plot_ane(df_1_ane_noisy,'df_1_ane_noisy.pdf')
 ###################################################################################
 ###################################################################################
 
 
 CO <- c(1.03,0.65,0.64,1.09,0.71,1.54)  
 FHMM<- c(0.55,0.38,0.47,0.74,0.59,1.33) 
 LBM <- c(1.38,0.34,0.53,2.38,0.96,1.06)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('deNoisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(10,6)
 df_10_ane_denoisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM)
 plot_ane(df_10_ane_denoisy,'df_10_ane_denoisy.pdf')
 
 CO <- c(3.97,1.47,1.11,0.90,0.53,1.06)  
 FHMM<- c(2.78,1.34,1.03,0.47,0.40,0.74) 
 LBM <- c(1.09,0.84,0.57,0.74,0.66,2.47)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('deNoisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(20,6)
 df_20_ane_denoisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM)
 plot_ane(df_20_ane_denoisy,'df_20_ane_denoisy.pdf')
 
 CO <- c(1.9,0.43,0.79,1.30,0.83,0.98)  
 FHMM<- c(0.40,0.21,0.49,0.98,0.51,0.81)
 LBM <- c(0.72,0.19,0.83,1.03,0.68,3.01)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('deNoisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(16,6)
 df_16_ane_denoisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM)
 plot_ane(df_16_ane_denoisy,'df_16_ane_denoisy.pdf')
 
 CO <- c(2.47,0.87,0.80,1.27,1.78,0.76)  
 FHMM<- c(0.51,0.51,0.56,0.94,1.39,0.51) 
 LBM <- c(1.25,0.49,0.65,0.41,1.17,0.65)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('deNoisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(10,6)
 df_18_ane_denoisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM)
 plot_ane(df_18_ane_denoisy,'df_18_ane_denoisy.pdf')
 
 CO <- c(2.05,1.66,1.22,1.30,0.87,0.41)  
 FHMM<- c(2.37,1.99,1.71,0.45,0.72,0.30) 
 LBM <- rep(NaN,6)
 Appliance <- c(1,2,3,4,5,6)
 Approach <- rep('deNoisy',6)
 Result_type <- rep('ANE',6)
 Home <- rep(1,6)
 df_1_ane_denoisy <- data.frame(Home,Appliance,Approach,Result_type,CO,FHMM,LBM)
 plot_ane(df_1_ane_denoisy,'df_1_ane_denoisy.pdf')
 ######################
 ######################ANOMALY DETECTION RESULTS NOW###################
 

 CO <- c(0.54,1,0.70)
 FHMM <- c(0.55,0.82,0.66)
 LBM <- c(0,0,0)
 SSHMM <- c(0.54,1,0.7)
 GSP <- c(0.52,0.67,0.59)
 Submetered <- c(1,1,1)
 # CO_denoisy <- c(0.54,1,0.7)
 # FHMM_denoisy<- c(0.52,0.39,0.45)
 # LBM_denoisy<- c(1,0.03,0.06)
 Metrics <- c('Precision','Recall','Fscore')
 Result_type <- rep('AD_Confusionmetrics',3)
 Home <- rep('10_Frzr',3)
 df_10_ad_confusionmat <- data.frame(Home,Result_type,CO,FHMM,LBM,SSHMM,GSP,Submetered,Metrics)
 
 
 
 CO <- c(0.11,1,0.2)
 FHMM <- c(0.09,0.7,0.16)
 LBM <- c(0.11,0.5,0.18)
 SSHMM <- c(0.11,1,0.2)
 GSP <- c(0.07,0.3,0.11)
 Submetered <- c(1,0.6,0.75)
 #CO_denoisy<- c(0.11,1,0.2)
 #FHMM_denoisy<- c(0.1,0.3,0.15)
 #LBM_denoisy<- c(0.17,0.1,0.13)
 Metrics <- c('Precision','Recall','Fscore')
 Result_type <- rep('AD_Confusionmetrics',3)
 Home <- rep('20_Frezr',3)
 df_20_ad_confusionmat <- data.frame(Home,Result_type,CO,FHMM,LBM,SSHMM,GSP,Submetered,Metrics)
 
 
 CO <- c(0.25,1,0.4)
 FHMM <- c(0.25,1,0.4)
 LBM <- c(0.23,0.43,0.3)
 SSHMM <- c(0.25,1,0.4)
 GSP <- c(0.26,0.52,0.35)
 Submetered <- c(0.95,0.91,0.93)
 #CO_denoisy<- c(0.25,1,0.4)
 #FHMM_denoisy<- c(0.33,0.83,0.47)
 #LBM_denoisy<- c(0.38,0.91,0.54)
 Metrics <- c('Precision','Recall','Fscore')
 Result_type <- rep('AD_Confusionmetrics',3)
 Home <- rep('16_Frezr',3)
 df_16_ad_confusionmat <- data.frame(Home,Result_type,CO,FHMM,LBM,SSHMM,GSP,Submetered,Metrics)
 
 
 CO <- c(0.03,1,0.06)
 FHMM <- c(0,0,0)
 LBM <- c(0.06,0.33,0.1)
 SSHMM <- c(0.03,1,0.06)
 GSP <- c(0.04,1,0.08)
 Submetered <- c(1,0.67,0.8)
 
 #CO_denoisy<- c(0.03,1,0.06)
 #FHMM_denoisy<- c(0,0,0)
 #LBM_denoisy<- c(0.17,0.33,0.22)
 Metrics <- c('Precision','Recall','Fscore')
 Result_type <- rep('AD_Confusionmetrics',3)
 Home <- rep('18_Frezr',3)
 df_18_ad_confusionmat <- data.frame(Home,Result_type,CO,FHMM,LBM,SSHMM,GSP,Submetered,Metrics)
 
 
 CO <- c(0.1,1,0.18)
 FHMM <- c(0.11,1,0.2)
 LBM <- c(0.08,1,0.15)
 SSHMM <- c(0.11,1,0.2)
 GSP <- c(0.14,1,0.25)
 Submetered <- c(1,1,1)
 
 #CO_denoisy<- c(0.78,1,0.88)
 #FHMM_denoisy<- c(0.64,1,0.78)
 #LBM_denoisy<- rep(NaN,3)
 Metrics <- c('Precision','Recall','Fscore')
 Result_type <- rep('AD_Confusionmetrics',3)
 Home <- rep('1_ElecHt',3)
 df_1_ad_confusionmat <- data.frame(Home,Result_type,CO,FHMM,LBM,SSHMM,GSP,Submetered,Metrics)
 
 dff <- rbind(df_1_ad_confusionmat,df_10_ad_confusionmat,
              df_16_ad_confusionmat,df_18_ad_confusionmat,
              df_20_ad_confusionmat)
 keep <- c("Home","CO","FHMM","LBM","SSHMM","GSP","Submetered","Metrics")
 df_temp <- dff[keep]
 df_melt=  reshape2::melt(df_temp,id.vars= c('Home','Metrics'))
 mybrewercolours <- c('#e41a1c','#377eb8','#4daf4a','#984ea3','#ff7f00','#a65628')
 h <- ggplot(df_melt,aes(variable,value)) + facet_grid(Home~Metrics) + geom_bar(aes(fill=variable),position="dodge",stat="identity",width = 0.4 )
 h <- h +  labs(x = "Approach ", y='Value (Higher is better)', fill="Approach")  + scale_fill_manual(values = mybrewercolours)
 h <- h + theme(axis.text.x = element_blank(),axis.text = element_text(color="Black",size = 7),legend.text = element_text(size = 7)) 
 h
 # ggsave("ad_results.pdf", width = 4, height = 5, units = "in")
 
 
 
 obselete_data_and_codes() 
 {
   
   Submetered <- c(1,1,1)
   CO_noisy <- c(0.54,1,0.70)
   FHMM_noisy <- c(0.55,0.82,0.66)
   LBM_noisy <- c(0,0,0)
   CO_denoisy <- c(0.54,1,0.7)
   FHMM_denoisy<- c(0.52,0.39,0.45)
   LBM_denoisy<- c(1,0.03,0.06)
   Metrics <- c('Precision','Recall','Fscore')
   Result_type <- rep('AD_Confusionmetrics',3)
   Home <- rep('Frzr_10',3)
   df_10_ad_confusionmat <- data.frame(Home,Result_type,Submetered,CO_noisy,FHMM_noisy,LBM_noisy,CO_denoisy,FHMM_denoisy,LBM_denoisy,Metrics)
   
   
   Submetered <- c(1,0.6,0.75)
   CO_noisy<- c(0.11,1,0.2)
   FHMM_noisy<- c(0.09,0.7,0.16)
   LBM_noisy<- c(0.11,0.5,0.18)
   CO_denoisy<- c(0.11,1,0.2)
   FHMM_denoisy<- c(0.1,0.3,0.15)
   LBM_denoisy<- c(0.17,0.1,0.13)
   Metrics <- c('Precision','Recall','Fscore')
   Result_type <- rep('AD_Confusionmetrics',3)
   Home <- rep('Frezr_20',3)
   df_20_ad_confusionmat <- data.frame(Home,Result_type,Submetered,CO_noisy,FHMM_noisy,LBM_noisy,CO_denoisy,FHMM_denoisy,LBM_denoisy,Metrics)
   
   Submetered <- c(0.95,0.91,0.93)
   CO_noisy<- c(0.25,1,0.4)
   FHMM_noisy<- c(0.25,1,0.4)
   LBM_noisy<- c(0.23,0.43,0.3)
   CO_denoisy<- c(0.25,1,0.4)
   FHMM_denoisy<- c(0.33,0.83,0.47)
   LBM_denoisy<- c(0.38,0.91,0.54)
   Metrics <- c('Precision','Recall','Fscore')
   Result_type <- rep('AD_Confusionmetrics',3)
   Home <- rep('Frezr_16',3)
   df_16_ad_confusionmat <- data.frame(Home,Result_type,Submetered,CO_noisy,FHMM_noisy,LBM_noisy,CO_denoisy,FHMM_denoisy,LBM_denoisy,Metrics)
   
   Submetered <- c(1,0.67,0.8)
   CO_noisy<- c(0.03,1,0.06)
   FHMM_noisy<- c(0,0,0)
   LBM_noisy<- c(0.06,0.33,0.1)
   CO_denoisy<- c(0.03,1,0.06)
   FHMM_denoisy<- c(0,0,0)
   LBM_denoisy<- c(0.17,0.33,0.22)
   Metrics <- c('Precision','Recall','Fscore')
   Result_type <- rep('AD_Confusionmetrics',3)
   Home <- rep('Frezr_18',3)
   df_18_ad_confusionmat <- data.frame(Home,Result_type,Submetered,CO_noisy,FHMM_noisy,LBM_noisy,CO_denoisy,FHMM_denoisy,LBM_denoisy,Metrics)
   
   Submetered <- c(1,1,1)
   CO_noisy<- c(0.1,1,0.18)
   FHMM_noisy<- c(0.11,1,0.2)
   LBM_noisy<- c(0.08,1,0.15)
   CO_denoisy<- c(0.78,1,0.88)
   FHMM_denoisy<- c(0.64,1,0.78)
   LBM_denoisy<- rep(NaN,3)
   Metrics <- c('Precision','Recall','Fscore')
   Result_type <- rep('AD_Confusionmetrics',3)
   Home <- rep('ElecHt_1',3)
 }
 